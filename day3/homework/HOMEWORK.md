## 質問設計の観点と意図

今回の課題では、RAGの性能を段階的に検証する目的で、以下の5つの質問を設計した。それぞれに質問の観点と意図を示す。

利用したベースモデルはMeta-Llama-3-8B-Instruct（2024年4月リリース）で、一部の評価にはgpt-4oを用いた。


1. 2025年5月7日の東京の天気は大雨ですか?
   - 観点
     - モデルの知識カットオフ後の時事情報に関する問い
   - 意図
     - LLM単体では未来または現在の天気を知ることができず、外部ソースの情報検索（Web検索やリアルタイムAPI）が必須なタスク
     - ベースモデルの性能とRAGの差が明確に出る
2. 映画「ブレードランナー」の原作は？
   - 観点
     - 単純な事実確認
     - ベースモデルで正答可能
   - 意図
     - ベースラインとしての利用：RAGを使わずとも正しく答えられる質問であり、RAGの過剰適用による劣化や不要性の確認が可能
3. 映画「ブレードランナー」に出てくる架空の飛行車の総称は？
   - 観点
     - 固有名詞の取り扱い
   - 意図
     - 特定ジャンル（SF映画）に関するベースモデルの事前知識の深さを評価
4. 映画『ブレードランナー』に登場する、日本語で「入り陽傾く」という音声とともに芸者が現れる広告について、次の問いに答えなさい。この広告は誰のアイデアとされ、また劇中ではどのような製品として描かれているか？実際の製品との違いにも言及しなさい。
   - 観点
     - 複数ソースの情報統合
     - 映像と設定、制作者の意図などの文脈理解
   - 意図
     - RAGでの文献的記述の抽出と統合能力を評価できる
5. 映画『ブレードランナー』における主人公リック・デッカードの正体について、作中では「レプリカントではないか」という解釈が存在します。これについて次の設問に答えなさい。
設問： デッカード＝レプリカント説の根拠と、それに対する反論の両方を挙げたうえで、この説に関する最終的な評価を述べなさい。
   - 観点
     - 多視点的な解釈の要請
     - あいまいな情報の扱い
     - 根拠の列挙と論理的統合
   - 意図
     - 検索文書の中に異なる見解が含まれる場合のRAGの応答整合性を測定
     - モデルが単に「1つの答え」ではなく、矛盾する情報をどう処理するかを評価
     - 回答に推論能力や要約能力が求められるため、高難度タスク

## RAGの実装方法と工夫点
演習の問題を元に実装し、シンプルな質問からより複雑な質問を取り扱うように検証を行った。
RAGで使用する参考文章も最初は極めて短く、答えが分かりやすいものを用意した。2つ目以降の質問ではWikipediaからある程度たくさんの情報が混在する情報を用意し、RAGを用いて正しく資料を活用することができるかを確認した。

## 結果の分析と考察
RAGを用いることで回答の質が向上することを定性・定量の両方の観点で確認することができた。
チャンクの活用では、句読点によるチャンクを利用するよりも前後の文脈を考慮した分割を行うことで参考資料の質が向上することも確認できた。
LLMも評価に使用する際は、gold_answerの設計が評価の質に直結するので、どんな答えを得ることが理想なのかを吟味して選択する必要があると感じた。
